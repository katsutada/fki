<!-- 不要放 <html> 或 <body>，因為是插入 login.html 的 div -->

<h1>歡迎登入！</h1>
<p>這裡是保護頁面。</p>
<button onclick="logout()">登出</button>

<script>
if (!isSessionValid()) {
    logout(); // 強制跳回 login
}

// 監聽使用者活動，重新刷新 session
document.addEventListener("mousemove", refreshSession);
document.addEventListener("keydown", refreshSession);
document.addEventListener("click", refreshSession);

// 每秒檢查 session 是否過期
setInterval(()=>{
    if (!isSessionValid()) {
        alert("閒置超過 30 分鐘，已自動登出");
        logout();
    }
}, 1000);
</script>
